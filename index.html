<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<!--    <meta name="viewport" content="width=device-width,initial-scale=1">-->
<!--    <meta name="x-frame-options" content="DENY">-->

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <title>KoTuK-Service</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/home_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
<!--    <script type="text/javascript">-->
<!--        var checkEnv=function(){try{return window.console&&window.console.log&&/^function.*native code/.test(String(window.console.log))||!1}catch(e){return!1}};-->
<!--    </script>-->
</head>

<body>
    <div class="container">
        <header>
            <h1>KoTuK-Service</h1>
        </header>

        <nav id="menu">
            <ul>
                <li>
                    <a href="#" data-page="home">
                        <img src="img/home-icon.png" alt="Главная" class="menu-icon" width="50vw">
                    </a>
                </li>
                <li>
                    <a href="#" data-page="files">
                        <img src="img/files.png" alt="Файлы" class="menu-icon" width="50vw">
                    </a>
                </li>
                <li>
                    <a href="#" data-page="other">
                        <img src="img/other.png" alt="Другое" class="menu-icon" width="50vw">
                    </a>
                </li>
<!--                <li>-->
<!--                    <a href="#" data-page="plugins">-->
<!--                        <img src="img/profile.png" alt="Пользовательские плагины" class="menu-icon" width="50vw">-->
<!--                    </a>-->
<!--                </li>-->
            </ul>
        </nav>

        <h1>Реклама</h1>
        <div class="kotuk_ad"></div>

        <h1>Контент</h1>
        <main id="content">
            <div w3-include-html="pages/home.html"></div>
        </main>
        <h1>Остальное</h1>
<!--        <div style="display:none;">-->
<!--            <script type="text/javascript">-->
<!--                try{if(window.debugger||window.__proto__){if(window.location.hostname!="localhost"){window.location.href="/error"}}}catch(e){}-->
<!--            </script>-->
<!--        </div>-->


        <div class="page-content">
            <style>
                /* Стили для профиля */
                .profile-card {
                    background: #787878;
                    padding: 20px;
                    border-radius: 8px;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    max-width: 400px;
                    margin: 20px auto;
                }

                .profile-info {
                    margin-top: 20px;
                }

                .profile-info p {
                    margin: 8px 0;
                }

                .profile-info strong {
                    font-weight: bold;
                    color: #333;
                }

                /* Дополнительно можно добавить анимацию появления */
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }

                .profile-card {
                    animation: fadeIn 0.5s ease-in-out;
                }

                .auth-form {
                    background: #787878;
                    padding: 20px;
                    border-radius: 8px;
                    max-width: 400px;
                    margin: 50px auto;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                }
                .auth-form h2 {
                    margin-bottom: 20px;
                    text-align: center;
                    color: #333;
                }
                .auth-form input {
                    width: 100%;
                    padding: 12px;
                    margin: 10px 0;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                    box-sizing: border-box;
                }
                .auth-form button {
                    background: #007bff;
                    color: white;
                    padding: 12px 20px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    width: 100%;
                }
                .auth-form button:hover {
                    background: #0056b3;
                }
                .auth-form .error {
                    color: red;
                    margin-top: 10px;
                }
            </style>
            <h3>Профиль</h3>
            <div class="auth_container">
                <div class="auth-form">
                    <h2>Авторизация</h2>
                    <form id="authForm">
                        <input type="text" name="username" placeholder="Логин" required>
                        <input type="password" name="password" placeholder="Пароль" required>
                        <button type="submit">Войти</button>
                        <div class="error"></div>
                    </form>
                </div>
            </div>
            <div id="data"></div>

            <div class="reg_container">
                <div class="auth-form">
                    <h2>Регистрация</h2>
                    <form id="regForm">
                        <input type="text" name="username" placeholder="Логин" required>
                        <input type="password" name="password" placeholder="Пароль" required>
                        <input type="email" name="email" placeholder="Email" required>
                        <button type="submit">Создать аккаунт</button>
                        <div class="error"></div>
                    </form>
                </div>
            </div>
            <div id='create'></div>
        </div>

        <h1>Другие сервисы</h1>

        <style>
            /* Контейнер для формы перевода */
            .transfer-container {
                margin: 20px auto;
                max-width: 400px;
            }

            /* Стили для формы перевода */
            .transfer-form {
                background: #787878;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                animation: fadeIn 0.5s ease-in-out;
            }

            .transfer-form h3 {
                margin-bottom: 20px;
                text-align: center;
                color: #333;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group label {
                display: block;
                margin-bottom: 5px;
                color: #333;
            }

            .profile-info input {
                width: 100%;
                padding: 12px;
                margin: 10px 0;
                border: 1px solid #ddd;
                border-radius: 4px;
                box-sizing: border-box;
            }

            /* Стили для кнопки перевода */
            .transfer-form button {
                background: #007bff;
                color: white;
                padding: 12px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                width: 100%;
            }

            .transfer-form button:hover {
                background: #0056b3;
            }

            /* Стили для сообщений об ошибках */
            .error-message {
                color: red;
                margin-top: 10px;
                text-align: center;
            }
        </style>
        <div class="transfer-container">
            <div class="profile-card transfer-form">
                <h3>Перевод средств</h3>
                <form id="transferForm">
                    <div class="profile-info form-group">
                        <label>Логин получателя:</label>
                        <input type="text" name="receiverUsername" placeholder="Введите логин получателя" required>
                    </div>
                    <div class="profile-info form-group">
                        <label>Сумма перевода:</label>
                        <input type="number" name="amount" placeholder="Введите сумму" min="1" required>
                    </div>
                    <button type="submit">Перевести</button>
                    <div class="error-message"></div>
                </form>
            </div>
        </div>

        <script>
            async function initTransferForm() {
                const form = document.getElementById('transferForm');
                if (!form) return;

                const errorContainer = form.querySelector('.error-message');

                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    errorContainer.textContent = ''; // Очищаем предыдущие ошибки

                    try {
                        const receiverUsername = form.querySelector('input[name="receiverUsername"]').value.trim();
                        const amount = parseFloat(form.querySelector('input[name="amount"]').value);

                        // Проверяем авторизацию
                        if (userNameNow === '') {
                            throw new Error('Вы не авторизованы');
                        }

                        // Валидация данных
                        if (!receiverUsername || isNaN(amount) || amount <= 0) {
                            throw new Error('Некорректные данные');
                        }

                        await transferMoney(userNameNow, receiverUsername, amount);
                        alert('Перевод выполнен успешно!');
                        form.reset();

                    } catch (error) {
                        errorContainer.textContent = `Ошибка: ${error.message}`;
                    }
                });
            }

            document.addEventListener('DOMContentLoaded', () => {
                initTransferForm();
            });
        </script>



        <div class="page-content">
            <h3>Поиск KotukVerification</h3>
            <form id="searchForm">
                <div class="search-container">
                    <input type="text" id="searchInput" class="search-input" placeholder="Введите кого ищем...">
                    <button type="submit" class="search-button">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </form>
            <div id="info" class="search-results"></div>
        </div>

<style>
    .page-content {
        max-width: 600px;
        margin: 50px auto;
    }

    .search-container {
        position: relative;
        margin-bottom: 20px;
    }

    .search-input {
        width: 100%;
        padding: 12px 20px 12px 40px;
        border: 1px solid #ccc;
        border-radius: 25px;
        font-size: 16px;
        transition: 0.3s;
    }

    .search-input:focus {
        border-color: #007bff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        outline: none;
    }

    .search-button {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 50px;
        border: none;
        background: #fff;
        cursor: pointer;
        transition: 0.3s;
    }

    .search-button:hover {
        background: #f2f2f2;
    }

    .search-button i {
        font-size: 18px;
    }

    .search-results {
        margin-top: 20px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
    }

    .search-results.loading {
        background: #f9f9f9;
    }

    .search-results h4 {
        margin-bottom: 15px;
    }

    .search-results p {
        margin: 5px 0;
    }

    .error-message {
        color: red;
        font-style: italic;
    }

    .success-message {
        color: green;
        font-style: italic;
    }
</style>
<!--<script type="text/javascript">-->
<!--    if (window.top !== window.self) {-->
<!--        window.location.href = "/error";-->
<!--    }-->
<!--    </script>-->
<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const form = document.getElementById('searchForm');
        const res = document.getElementById('info');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const searchInput = document.getElementById('searchInput');
            const searchQuery = searchInput.value.trim();

            if (searchQuery) {
                res.innerHTML = '<div class="loading">Поиск...</div>';

                try {
                    const result = await getUser(searchQuery);
                    const result2 = await getDataByPath(`KotukPay/user/${searchQuery}/money`);
                    if (result) {
                        res.innerHTML = `
                            <h4>Результаты поиска:</h4>
                            <p>Пользователь: ${searchQuery}</p>
                            <p>Информация: ${result}</p>
                            <p>Баланс: ${result2 || 0}</p>
                        `;
                    } else {
                        res.innerHTML = '<div class="error-message">Пользователь не найден</div>';
                    }
                    searchInput.value = '';
                } catch (error) {
                    console.error('Ошибка при получении данных:', error);
                    res.innerHTML = '<div class="error-message">Произошла ошибка при поиске</div>';
                }
            } else {
                alert('Пожалуйста, введите поисковый запрос');
            }
        });
    });

    async function getUser(username) {
        try {
            const data = await getDataByPath(`KotukPay/other/scam/${username}`);
            return data || null;
        } catch (error) {
            console.error('Ошибка при получении данных:', error);
            alert('Произошла ошибка при поиске');
        }
    }

        async function getUser(username) {
            try {
                const data = await getDataByPath(`KotukPay/other/scam/${username}`);
                return data || "No info";
            } catch (error) {
                console.error('Ошибка в getUser:', error);
                throw error;
            }
        }

        </script>
        <style>
    .page-content {
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
        box-sizing: border-box;
    }

    .encode-container {
        margin-bottom: 20px;
        display: flex;
        flex-direction: column;
    }

    textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
        resize: vertical;
        box-sizing: border-box;
    }

    textarea:focus {
        border-color: #007bff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        outline: none;
    }

    .encode-button {
        margin-top: 10px;
        padding: 12px 20px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
    }

    .encode-button:hover {
        background: #0056b3;
    }

    .result-container {
        margin-top: 20px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
    }
</style>

<div class="page-content">
    <h3>CES-164</h3>
    <p>Cat Encode System - 164 symbols</p>
    <form id="encodeForm">
        <div class="encode-container">
            <textarea id="inputText" placeholder="Введите текст..." rows="5" cols="50"></textarea>
            <button type="submit" class="encode-button">
                Обработать
            </button>
        </div>
    </form>
    <div id="result" class="result-container">
        <textarea id="outputText" readonly rows="5" cols="50"></textarea>
    </div>
</div>

<script>
    const charMap = {
    ' ': '_000', 'а': '_001', 'б': '_002', 'в': '_003', 'г': '_004', 'д': '_005',
    'е': '_006', 'ё': '_007', 'ж': '_008', 'з': '_009', 'и': '_010', 'й': '_011',
    'к': '_012', 'л': '_013', 'м': '_014', 'н': '_015', 'о': '_016', 'п': '_017',
    'р': '_018', 'с': '_019', 'т': '_020', 'у': '_021', 'ф': '_022', 'х': '_023',
    'ц': '_024', 'ч': '_025', 'ш': '_026', 'щ': '_027', 'ъ': '_028', 'ы': '_029',
    'ь': '_030', 'э': '_031', 'ю': '_032', 'я': '_033',
    'А': '_034', 'Б': '_035', 'В': '_036', 'Г': '_037', 'Д': '_038', 'Е': '_039',
    'Ё': '_040', 'Ж': '_041', 'З': '_042', 'И': '_043', 'Й': '_044', 'К': '_045',
    'Л': '_046', 'М': '_047', 'Н': '_048', 'О': '_049', 'П': '_050', 'Р': '_051',
    'С': '_052', 'Т': '_053', 'У': '_054', 'Ф': '_055', 'Х': '_056', 'Ц': '_057',
    'Ч': '_058', 'Ш': '_059', 'Щ': '_060', 'Ъ': '_061', 'Ы': '_062', 'Ь': '_063',
    'Э': '_064', 'Ю': '_065', 'Я': '_066',
    'A': '_067', 'B': '_068', 'C': '_069', 'D': '_070', 'E': '_071', 'F': '_072',
    'G': '_073', 'H': '_074', 'I': '_075', 'J': '_076', 'K': '_077', 'L': '_078',
    'M': '_079', 'N': '_080', 'O': '_081', 'P': '_082', 'Q': '_083', 'R': '_084',
    'S': '_085', 'T': '_086', 'U': '_087', 'V': '_088', 'W': '_089', 'X': '_090',
    'Y': '_091', 'Z': '_092',
    'a': '_093', 'b': '_094', 'c': '_095', 'd': '_096', 'e': '_097', 'f': '_098',
    'g': '_099', 'h': '_100', 'i': '_101', 'j': '_102', 'k': '_103', 'l': '_104',
    'm': '_105', 'n': '_106', 'o': '_107', 'p': '_108', 'q': '_109', 'r': '_110',
    's': '_111', 't': '_112', 'u': '_113', 'v': '_114', 'w': '_115', 'x': '_116',
    'y': '_117', 'z': '_118',
    '0': '_119', '1': '_120', '2': '_121', '3': '_122', '4': '_123',
    '5': '_124', '6': '_125', '7': '_126', '8': '_127', '9': '_128',
    ',': '_129', '.': '_130',
    '~': '_131', '!': '_132', '?': '_133', '=': '_134', '-': '_135',
    '+': '_136', ':': '_137', '%': '_138', '&': '_139', '*': '_140',
    '(': '_141', ')': '_142', '@': '_143', '`': '_144', '$': '_145',
    ';': '_146', '"': '_147', "'": '_148', '{': '_149', '}':'_150',
    '\\':'_151', '\n':'_152', '\r':'_153', '#':'_154', '/':'_155',
    '[':'_156', ']':'_157', '|':'_158', '$':'_159', '<':'_160',
    '>':'_161', '\t':'_162', '_':'_163', '—':'_164'
}

function encodeText(text) {
    let result = '';
    for (let char of text) {
        result += charMap[char] || char;
    }
    return result;
}

function decodeText(encodedText) {
    const reverseMap = {};
    for (let key in charMap) {
        reverseMap[charMap[key]] = key;
    }

    let result = '';
    let currentCode = '';

    for (let char of encodedText) {
        currentCode += char;
        if (reverseMap[currentCode]) {
            result += reverseMap[currentCode];
            currentCode = '';
        }
    }
    return result;
}

function processText(input) {
    if (input.startsWith('enc: ')) {
        return encodeText(input.slice(5));
    } else if (input.startsWith('dec: ')) {
        return decodeText(input.slice(5));
    } else {
        return 'Неверный формат ввода. Используйте "enc: текст" или "dec: код"';
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const inputField = document.getElementById('inputText');
    const outputField = document.getElementById('outputText');

    document.getElementById('encodeForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const input = inputField.value.trim();
        outputField.value = processText(input);
    });
});
</script>
        -------------------------------------------------------------
        <div class="news">
            <h3>Контакты</h3>
            <p>- Email</p>
            <p>- Telegram </p>
            <p>- VK</p>
            <button onclick="alert('EMAIL: kotuk0iq@gmail.com\nTG: @kotuk0iq\nVK: @kotuk0iq', '_blank')">Посмотреть</button>
        </div>
        <footer>
            <p>© 2025, KoTuK-0iq</p>
        </footer>
    </div>

    <script src="scripts/script.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/kotuk_ads_inline.js"></script>
<!--    <script>-->
<!--    function p(){var e=["/scripts","/api/private","/admin"];var t=window.location.pathname;if(window.location.hostname!="localhost"){for(var n=0;n<e.length;n++)if(t.includes(e[n]))window.location.href="/error";if(t.includes(".js"))window.location.href="/error"}}-->
<!--    function a(){try{document.oncontextmenu=function(){return!1};document.onkeydown=function(e){if(window.location.hostname!="localhost")return!(e.ctrlKey&&(e.shiftKey&&e.keyCode===73||e.keyCode===85||e.keyCode===89||e.keyCode===80||e.keyCode===83||e.keyCode===67||e.keyCode===84||e.keyCode===76||e.keyCode===78))};document.onkeydown=function(e){123===e.keyCode&&e.preventDefault()}}catch(e){}}function c(){try{if(window.console&&window.console.log){window.console.log=function(){};window.console.error=function(){}}window.alert=function(){};window.prompt=function(){}}catch(e){}}function e(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function t(){return Math.random().toString(36).substr(2,10)}document.addEventListener("DOMContentLoaded",function(){var e=t();localStorage.setItem("csrfToken",e);document.querySelectorAll("form").forEach(function(t){var n=document.createElement("input");n.type="hidden",n.name="csrfToken",n.value=e,t.appendChild(n)});p(),a(),c()});function n(e){console.error("Произошла ошибка"),alert("Произошла непредвиденная ошибка")}-->
<!--    </script>-->

</body>
</html>